{"ast":null,"code":"import React,{useContext,useState}from\"react\";import{DataContext}from\"../../components/DataProvider/DataProvider\";import LayOut from\"../../components/LayOut/LayOut.JSx\";import classes from\"./payment.module.css\";import ProductCard from\"../../components/Product/ProductCard\";import{useStripe,useElements,CardElement}from\"@stripe/react-stripe-js\";import CurrencyFormat from\"../../components/CurrencyFormat/CurrencyFormat\";import{collection,doc,setDoc}from\"firebase/firestore\";// import { DisplaySettings, Try } from \"@mui/icons-material\";\nimport{axiosInstance}from\"../../API/axios\";import{ClipLoader}from\"react-spinners\";import{db,auth}from\"../../Utility/fireBase.js\";import{useNavigate}from\"react-router-dom\";import{Type}from\"../../Utility/action.type\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Payment(){const[{user,basket},dispatch]=useContext(DataContext);const totalItems=basket===null||basket===void 0?void 0:basket.reduce((amount,item)=>{return item.amount+amount;},0);const stripe=useStripe();const navigate=useNavigate();const elements=useElements();const[cardError,setCardError]=useState(null);const[processing,setProcessing]=useState(false);const handleChange=e=>{var _e$error,_e$error2;e!==null&&e!==void 0&&(_e$error=e.error)!==null&&_e$error!==void 0&&_e$error.message?setCardError(e===null||e===void 0?void 0:(_e$error2=e.error)===null||_e$error2===void 0?void 0:_e$error2.message):setCardError(\"\");};const total=basket.reduce((amount,item)=>{return item.price*item.amount+amount;},0);const handlePayment=async e=>{e.preventDefault();try{var _response$data;setProcessing(true);// backend or function contact to get client secret key\nconst response=await axiosInstance({method:\"POST\",url:`/payment/create?total=${total*100}`});// console.log(response.data);\nconst clientSecret=(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.client_secret;//conduct client or react side confirmation (e.g., using Stripe, PayPal, etc.)\nconst{paymentIntent}=await stripe.confirmCardPayment(clientSecret,{payment_method:{card:elements.getElement(CardElement)}});// console.log(confirmation);\n// If payment is successful,save the data to firestore or database and clear the basket\ntry{// Ensure user is authenticated\nconst user=auth.currentUser;// Get the authenticated user\nif(!user){throw new Error(\"User not authenticated\");}await setDoc(doc(collection(db,\"users\",user.uid,\"orders\"),paymentIntent.id),{basket:basket,amount:paymentIntent.amount,created:paymentIntent.created// await db\n//   .collection(\"users\")\n//   .doc(user.uid)\n//   .collection(\"orders\")\n//   .doc(paymentIntent.id)\n//   .set({\n//     basket: basket,\n//     amount: paymentIntent.amount,\n//     created: paymentIntent.created,\n});console.log(\"Payment details saved successfully.\");// after payment empty the basket\ndispatch({type:Type.EMPTY_BASKET});}catch(error){console.error(\"Error saving payment details:\",error);}setProcessing(false);navigate(\"/orders\",{state:{msg:\"you have placed new order\"}});}catch(error){console.error(\"Payment failed:\",error);// Handling any errors\nsetProcessing(false);}};return/*#__PURE__*/_jsxs(LayOut,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.payment_header,children:[\"Checkout (\",totalItems,\") items\"]}),/*#__PURE__*/_jsxs(\"section\",{className:classes.payment,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.flex,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Delivery Address\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:user===null||user===void 0?void 0:user.email}),/*#__PURE__*/_jsx(\"div\",{children:\"Street name\"}),/*#__PURE__*/_jsx(\"div\",{children:\"state\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.flex,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Review items and Delivery\"}),/*#__PURE__*/_jsx(\"div\",{children:basket===null||basket===void 0?void 0:basket.map(item=>/*#__PURE__*/_jsx(ProductCard,{product:item,flex:true}))})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.flex,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Payment Methods\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.payment_card_container,children:/*#__PURE__*/_jsx(\"div\",{className:classes.payment_details,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePayment,action:\"\",children:[cardError&&/*#__PURE__*/_jsx(\"small\",{style:{color:\"red\"},children:cardError}),/*#__PURE__*/_jsx(CardElement,{onChange:handleChange}),/*#__PURE__*/_jsxs(\"div\",{className:classes.payment_price,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{style:{display:\"flex\",gap:\"10px\"},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Total Order |\"}),/*#__PURE__*/_jsx(CurrencyFormat,{amount:total})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"Submit\",children:processing?/*#__PURE__*/_jsxs(\"div\",{className:classes.loading,children:[/*#__PURE__*/_jsx(ClipLoader,{color:\"grey\",size:12}),/*#__PURE__*/_jsx(\"p\",{children:\"Please wait ...\"})]}):\"Pay Now\"})]})]})})})]})]})]});}export default Payment;","map":{"version":3,"names":["React","useContext","useState","DataContext","LayOut","classes","ProductCard","useStripe","useElements","CardElement","CurrencyFormat","collection","doc","setDoc","axiosInstance","ClipLoader","db","auth","useNavigate","Type","jsxs","_jsxs","jsx","_jsx","Payment","user","basket","dispatch","totalItems","reduce","amount","item","stripe","navigate","elements","cardError","setCardError","processing","setProcessing","handleChange","e","_e$error","_e$error2","error","message","total","price","handlePayment","preventDefault","_response$data","response","method","url","clientSecret","data","client_secret","paymentIntent","confirmCardPayment","payment_method","card","getElement","currentUser","Error","uid","id","created","console","log","type","EMPTY_BASKET","state","msg","children","className","payment_header","payment","flex","email","map","product","payment_card_container","payment_details","onSubmit","action","style","color","onChange","payment_price","display","gap","loading","size"],"sources":["C:/Users/selam/Desktop/evangadi class/phase 4 projects/Amazonclone_proj/amazonclone_proj/frontend/src/Pages/Payment/Payment.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { DataContext } from \"../../components/DataProvider/DataProvider\";\r\nimport LayOut from \"../../components/LayOut/LayOut.JSx\";\r\nimport classes from \"./payment.module.css\";\r\nimport ProductCard from \"../../components/Product/ProductCard\";\r\nimport { useStripe, useElements, CardElement } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from \"../../components/CurrencyFormat/CurrencyFormat\";\r\nimport { collection, doc, setDoc } from \"firebase/firestore\";\r\n// import { DisplaySettings, Try } from \"@mui/icons-material\";\r\nimport { axiosInstance } from \"../../API/axios\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { db, auth } from \"../../Utility/fireBase.js\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Type } from \"../../Utility/action.type\";\r\nfunction Payment() {\r\n  const [{ user, basket }, dispatch] = useContext(DataContext);\r\n  const totalItems = basket?.reduce((amount, item) => {\r\n    return item.amount + amount;\r\n  }, 0);\r\n  const stripe = useStripe();\r\n  const navigate = useNavigate();\r\n  const elements = useElements();\r\n  const [cardError, setCardError] = useState(null);\r\n  const [processing, setProcessing] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    e?.error?.message ? setCardError(e?.error?.message) : setCardError(\"\");\r\n  };\r\n\r\n  const total = basket.reduce((amount, item) => {\r\n    return item.price * item.amount + amount;\r\n  }, 0);\r\n\r\n  const handlePayment = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setProcessing(true);\r\n      // backend or function contact to get client secret key\r\n      const response = await axiosInstance({\r\n        method: \"POST\",\r\n        url: `/payment/create?total=${total * 100}`,\r\n      });\r\n      // console.log(response.data);\r\n      const clientSecret = response.data?.client_secret;\r\n      //conduct client or react side confirmation (e.g., using Stripe, PayPal, etc.)\r\n      const { paymentIntent } = await stripe.confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      });\r\n      // console.log(confirmation);\r\n      // If payment is successful,save the data to firestore or database and clear the basket\r\n      try {\r\n        // Ensure user is authenticated\r\n        const user = auth.currentUser; // Get the authenticated user\r\n        if (!user) {\r\n          throw new Error(\"User not authenticated\");\r\n        }\r\n        await setDoc(\r\n          doc(collection(db, \"users\", user.uid, \"orders\"), paymentIntent.id),\r\n          {\r\n            basket: basket,\r\n            amount: paymentIntent.amount,\r\n            created: paymentIntent.created,\r\n            // await db\r\n            //   .collection(\"users\")\r\n            //   .doc(user.uid)\r\n            //   .collection(\"orders\")\r\n            //   .doc(paymentIntent.id)\r\n            //   .set({\r\n            //     basket: basket,\r\n            //     amount: paymentIntent.amount,\r\n            //     created: paymentIntent.created,\r\n          }\r\n        );\r\n\r\n        console.log(\"Payment details saved successfully.\");\r\n        // after payment empty the basket\r\n        dispatch({type:Type.EMPTY_BASKET})\r\n      } catch (error) {\r\n        console.error(\"Error saving payment details:\", error);\r\n      }\r\n      setProcessing(false);\r\n      navigate(\"/orders\", { state: { msg: \"you have placed new order\" } });\r\n    } catch (error) {\r\n      console.error(\"Payment failed:\", error); // Handling any errors\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LayOut>\r\n      {/* header */}\r\n      <div className={classes.payment_header}>\r\n        Checkout ({totalItems}) items\r\n      </div>\r\n      {/* payment method */}\r\n      <section className={classes.payment}>\r\n        {/* address */}\r\n        <div className={classes.flex}>\r\n          <h3>Delivery Address</h3>\r\n          <div>\r\n            <div>{user?.email}</div>\r\n            <div>Street name</div>\r\n            <div>state</div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n        {/* product  */}\r\n        <div className={classes.flex}>\r\n          <h3>Review items and Delivery</h3>\r\n          <div>\r\n            {basket?.map((item) => (\r\n              <ProductCard product={item} flex={true} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <hr />\r\n        {/* card form */}\r\n        <div className={classes.flex}>\r\n          <h3>Payment Methods</h3>\r\n          <div className={classes.payment_card_container}>\r\n            <div className={classes.payment_details}>\r\n              <form onSubmit={handlePayment} action=\"\">\r\n                {/* card error */}\r\n                {cardError && (\r\n                  <small style={{ color: \"red\" }}>{cardError}</small>\r\n                )}\r\n                {/* card element */}\r\n                <CardElement onChange={handleChange} />\r\n                {/* price */}\r\n                <div className={classes.payment_price}>\r\n                  <div>\r\n                    <span style={{ display: \"flex\", gap: \"10px\" }}>\r\n                      <p>Total Order |</p>\r\n                      <CurrencyFormat amount={total} />\r\n                    </span>\r\n                  </div>\r\n                  <button type=\"Submit\">\r\n                    {processing ? (\r\n                      <div className={classes.loading}>\r\n                        <ClipLoader color=\"grey\" size={12} />\r\n                        <p>Please wait ...</p>\r\n                      </div>\r\n                    ) : (\r\n                      \"Pay Now\"\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </LayOut>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}